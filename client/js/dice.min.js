var Dice=Dice||function(){function o(e,t){if(r.debug)console.log(e+": "+t)}function u(e,t,n){var r=document.createElement(e);if(t!=undefined)r.id=t;if(n!=undefined)r.className=n;return r}function a(e){for(var t in e){for(var n in r){if(t==n)r[t]=e[t]}}}function f(){var e=t<r.diceFaces?1:Math.ceil(t/r.diceFaces);o("Dice Number",e);return e}function l(){var e=p(r.xRange[0],r.xRange[1]),t=p(r.yRange[0],r.yRange[1]);o("X-Turns and Y-Turns",Array(e,t));return Array(e,t)}function c(e,t){var n=[3,6,4,1],r=[[3,5,4,2],[4,2,3,5]],i=e%4,s=t%4,u;if(i==1)u=n[i];else if(i==3)u=n[i];else{if(i==0)u=r[0][s];if(i==2)u=r[1][s]}o("Result for Dice",u);return u}function h(){var e=r.cssProp.split(":"),t=document.createElement("div");for(var n=0,i=e.length;n<i;n++){if(typeof t.style[e[n]]!=="undefined"){o("Found CSS Property",e[n]);return e[n]}}}function p(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;o("Random Twist Number Generated",n);return n}function d(t,s){var o=document.getElementById(r.wrapper)||document.body,a=0,f,h,p,d;for(var v=0;v<i;v++){f=u("div","dice_"+v,"diceBox");h=u("div","cube_"+v,"diceCube");for(var m=0;m<r.diceFaces;m++){diceFace=u("div",undefined,"face side"+(m+1));h.appendChild(diceFace)}p=l();d=c(p[0],p[1]);a+=d;while(v==i-1&&a==n){a-=d;p=l();d=c(p[0],p[1]);a+=d}e.push({div:h,turns:p,result:d});f.appendChild(h);o.appendChild(f)}window.setTimeout(function(){t()},100)}function v(){for(var t in e){e[t].div.style[s]="rotateX("+e[t].turns[0]*90+"deg) "+" rotateY("+e[t].turns[1]*90+"deg)"}}function m(){var t=0;for(var n in e){t+=e[n].result}o("Result for all Dices",t);return t}function g(){var e=n;while(e==n){e=p(i*1,i*r.diceFaces)}o("Result for all Dices",e);return e}function y(){var e=n;if(r.animate){d(function(){v()},100);e=m()}else e=g();return e}var e=[],t=0,n=0,r={animate:false,debug:false,diceFaces:6,wrapper:"body",xRange:[8,16],yRange:[8,16],cssProp:"transform:WebkitTransform:MozTransform:OTransform:msTransform"},i,s;return{init:function(e,r,o){t=e;n=r;if(typeof o==="object")a(o);i=f();s=h();return y()}}}()
